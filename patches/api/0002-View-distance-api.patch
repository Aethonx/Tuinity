From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: Spottedleaf <spottedleaf@spottedleaf.dev>
Date: Sat, 8 Feb 2020 13:55:35 -0800
Subject: [PATCH] View distance api

Allow setting a view distance where entities and chunks do not tick.
This could allow some servers to look like they have a higher view
distance than they actually have.

Also add World#setViewDistance

diff --git a/src/main/java/org/bukkit/World.java b/src/main/java/org/bukkit/World.java
index b46b27194ac66e7644be88fd329f278ab8bbd38b..eb268db3555620663537117f9c4ca973239c00bb 100644
--- a/src/main/java/org/bukkit/World.java
+++ b/src/main/java/org/bukkit/World.java
@@ -3008,6 +3008,36 @@ public interface World extends PluginMessageRecipient, Metadatable {
     int getViewDistance();
     // Spigot end
 
+    // Tuinity start - view distance api
+    /**
+     * Sets the view distance for this world. Setting to a value of -1 will default to the server
+     * view distance.
+     * @param viewDistance view distance in [2, 32] or -1
+     */
+    void setViewDistance(int viewDistance);
+
+    /**
+     * Returns the no-tick view distance for this world.
+     * <p>
+     * No-tick view distance is the view distance where chunks will load, however the chunks and their entities will not
+     * be set to tick.
+     * </p>
+     * @return The no-tick view distance for this world.
+     */
+    int getNoTickViewDistance();
+
+    /**
+     * Sets the no-tick view distance for this world. Setting to a value of -1 will default to the world
+     * view distance.
+     * <p>
+     * No-tick view distance is the view distance where chunks will load, however the chunks and their entities will not
+     * be set to tick.
+     * </p>
+     * @param viewDistance view distance in [2, 32] or -1
+     */
+    void setNoTickViewDistance(int viewDistance);
+    // Tuinity end - view distance api
+
     // Spigot start
     public class Spigot
     {
diff --git a/src/main/java/org/bukkit/entity/Player.java b/src/main/java/org/bukkit/entity/Player.java
index 7f771b356d8c80d721b860a2bca0c0ce33cef3db..9b73ca1407262b62ba59466ea8f1e955a4991074 100644
--- a/src/main/java/org/bukkit/entity/Player.java
+++ b/src/main/java/org/bukkit/entity/Player.java
@@ -1969,6 +1969,29 @@ public interface Player extends HumanEntity, Conversable, OfflinePlayer, PluginM
     void resetCooldown();
     // Paper end
 
+    // Tuinity start
+    /**
+     * Returns the no-tick view distance for this player.
+     * <p>
+     * No-tick view distance is the view distance where chunks will load, however the chunks and their entities will not
+     * be set to tick.
+     * </p>
+     * @return The no-tick view distance for this player.
+     */
+    int getNoTickViewDistance();
+
+    /**
+     * Sets the no-tick view distance for this player. Setting to a value of -1 will default to the world no-tick
+     * view distance.
+     * <p>
+     * No-tick view distance is the view distance where chunks will load, however the chunks and their entities will not
+     * be set to tick.
+     * </p>
+     * @param viewDistance view distance in [2, 32] or -1
+     */
+    void setNoTickViewDistance(int viewDistance);
+    // Tuinity end
+
     // Spigot start
     public class Spigot extends Entity.Spigot
     {
